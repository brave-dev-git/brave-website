---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import { getCollection } from "astro:content";

const title = "Insikter | Brave Security";
const description =
  "Insikter om cybersäkerhet, riskhantering och säkra AI-lösningar – konkreta perspektiv utan fluff.";

const posts = (await getCollection("insikter"))
  .filter((p) => !p.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title={title} description={description} lang="sv">
  <Header />

<main class="container">
  <section class="section" aria-label="Insikter">
    <div class="section-surface">
      <div class="hero-media" aria-hidden="true">
        <img
          src="/hero-insikter.png"
          alt=""
          width="1600"
          height="900"
          loading="eager"
          decoding="async"
        />
      </div>

      <header class="section-head">
        <h1 class="h1">Insikter</h1>
        <p class="lead">
          Korta perspektiv och konkreta lärdomar inom cybersäkerhet, risk och AI – skrivna för ledning och IT.
        </p>
      </header>

     <section class="grid3" aria-label="Artiklar">
        {posts.map((post) => (
          <a class="card insights-post" href={`/insikter/${post.slug}/`}>
            <div class="insights-meta">
              <time datetime={post.data.date.toISOString()}>
                {post.data.date.toLocaleDateString("sv-SE")}
              </time>
              {post.data.tags?.length ? <span class="insights-dot">•</span> : null}
              {post.data.tags?.slice(0, 2).map((t) => (
                <span class="insights-tag">{t}</span>
              ))}
            </div>

            <h2 class="h2">{post.data.title}</h2>
            <p class="p">{post.data.description}</p>
            <div class="insights-more">Läs →</div>
          </a>
        ))}
      </section>

  <div class="foot">© {new Date().getFullYear()} Brave Security AB</div>
</main>

</Layout>

